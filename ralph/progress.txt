# Ralph Progress Log
Started: Wed Feb 18 21:17:15 GMT 2026
---

## Codebase Patterns
- Use .venv/bin/python and .venv/bin/pip for all Python operations (not system python)
- The project uses Python 3.14 with a local .venv virtual environment
- Existing deps: fastapi, uvicorn[standard], httpx, beautifulsoup4, trafilatura, lxml, pydantic>=2.5.0

## 2026-02-18 21:30 - US-001
- What was implemented: Added all required Python packages for SaaS backend to requirements.txt
- Files changed: requirements.txt
- **Learnings for future iterations:**
  - Use .venv/bin/pip to install, not system pip
  - All packages installed successfully: passlib[bcrypt], python-jose[cryptography], asyncpg, sqlalchemy[asyncio], alembic, stripe, sib-api-v3-sdk, slowapi, python-multipart, email-validator
  - stripe installed at v14.3.0 (much newer than >=7.0.0 requirement - API may differ from older docs)
  - sib-api-v3-sdk installed at v7.6.0
---

## 2026-02-18 21:35 - US-002
- What was implemented: Created database.py with lazy-initialized async SQLAlchemy engine
- Files changed: database.py (new)
- **Learnings for future iterations:**
  - Engine creation must be deferred (lazy) since DATABASE_URL may be empty at import time
  - Use postgresql+asyncpg:// prefix for async engine; handle postgres:// and postgresql:// URL variants
  - async_session_factory is a callable that returns AsyncSession instances
  - get_db() is an async generator FastAPI dependency that handles commit/rollback/close
---
